@model List<Web.Dto.AboutDtos.ResultAboutDto>
@{
    ViewData["Title"] = "Hakkımızda";
    Layout = "~/Views/AdminLayout/Index.cshtml";
}

<style>
    .about-section {
        background: white; 
        border-radius: 12px;
    }
    .about-img {
        width: 100%;
        height: 420px; 
        object-fit: cover;
        border-radius: 8px;
    }
    .about-title {
        font-weight: 800;
        line-height: 1.1;
        font-size: clamp(1.75rem, 2.5vw + 1rem, 2.5rem);
    }
</style>
<br />
<br />
<br />
<br />
<div class="container-fluid py-3">
    <div class="d-flex align-items-center justify-content-between mb-3">
        <h4 class="mb-4">Hakkımızda Alan Düzenlemesi</h4>
    </div>

    @foreach (var item in Model)
    {
        var raw = item.ImageUrl ?? "";
        var src = raw.StartsWith("http", StringComparison.OrdinalIgnoreCase)
        ? raw
        : Url.Content("~/" + raw.TrimStart('/'));

        <section class="about-section text-white p-4 p-lg-5 mb-4">
            <div class="row g-4 align-items-center">
                <div class="col-12 col-lg-6">
                    @if (string.IsNullOrWhiteSpace(item.ImageUrl))
                    {
                        <div class="d-flex align-items-center justify-content-center about-img bg-dark text-muted small">
                            Görsel yok
                        </div>
                    }
                    else
                    {
                        <img src="@src" alt="@item.Title" class="about-img" loading="lazy" />
                    }
                </div>

                <!-- Metin + buton (sağ) -->
                <div class="col-12 col-lg-6">
                    <h2 class="about-title mb-3">@item.Title</h2>
                    @if (!string.IsNullOrWhiteSpace(item.Description))
                    {
                        <p class="mb-4" style="max-width: 60ch;color:black">@item.Description</p>
                    }

                    <!-- Sadece Düzenle -->
                    <div class="d-grid" style="max-width: 260px;">
                        <a href="~/Admin/AdminAbout/UpdateAbout/@item.AboutID"
                           class="btn btn-dark btn-lg">
                            Düzenle
                        </a>
                    </div>

                    @* Eğer ön yüzde CTA istersek (örnek):
            <a href="~/Cars/Index" class="btn btn-outline-light btn-lg mt-2">Araçları İncele</a>
            *@
                </div>

            </div>
        </section>
    }

</div>
